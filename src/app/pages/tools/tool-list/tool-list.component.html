

  <div class="container">
    <div class="row">
      <div>Bejelentkezve:</div>
      <h1> Összes gép </h1>
    </div>

    <div class="status-buttons">
      <button (click)="fetchData()">Összes</button>
      <button (click)="filterByStatus('Beérkezett')">Beérkezett</button>
      <button (click)="filterByStatus('Folyamatban')">Folyamatban</button>
      <button (click)="filterByStatus('Kész')">Kész</button>
      <button (click)="filterByStatus('Lezárt')">Lezárt</button>
    </div>

    <table class="table table-striped table-bordered table-hover">
      <thead class="table-dark">
      <tr>

        <th class="noSearch">ID
          <br><br>
        </th>
        <th>Megnevezés
          <form
            [formGroup]="searchFormName"
            class="searchBar"
            (input)="onSearchSubmitName()"

          >
            <input
              type="text"
              placeholder="Keresés"
              formControlName="searchValue"
              class="searchBarInput"
            />
          </form>
        </th>
        <th>Típusszám
          <form
            [formGroup]="searchFormTypeNumber"
            class="searchBar"
            (input)="onSearchSubmitTypeNumber()"

          >
            <input
              type="text"
              placeholder="Keresés"
              formControlName="searchValue"
              class="searchBarInput"
            />
          </form>
        </th>
        <th>Cikkszám
          <form
            [formGroup]="searchFormItemNumber"
            class="searchBar"
            (input)="onSearchSubmitItemNumber()"

          >
            <input
              type="text"
              placeholder="Keresés"
              formControlName="searchValue"
              class="searchBarInput"
            />
          </form>
        </th>
        <th>Sorszám
          <form
            [formGroup]="searchFormSerialNumber"
            class="searchBar"
            (input)="onSearchSubmitSerialNumber()"


          >
            <input
              type="text"
              placeholder="Keresés"
              formControlName="searchValue"
              class="searchBarInput"
            />
          </form>
        </th>

        <th class="nosearch">

          Átvétel időpontja


        </th>

        <th>Státusz
        </th>


      </tr>

      </thead>
      <tbody>

      <tr *ngFor="let machine of searchList | slice: (currentPage - 1) * pageSize : currentPage * pageSize" >
        <td (click)="selectOnClick(machine.id)" >{{machine.id}} </td>
        <td (click)="selectOnClick(machine.id)">{{machine.name}} </td>
        <td (click)="selectOnClick(machine.id)">{{machine.typeNumber}} </td>
        <td (click)="selectOnClick(machine.id)">{{machine.itemNumber}} </td>
        <td (click)="selectOnClick(machine.id)">{{machine.serialNumber}} </td>
        <td (click)="selectOnClick(machine.id)" >{{machine.dateOfReceiving}} </td>
        <td >
          <select (change)="onStatusChange(machine, $event)">
            <option value="{{machine.status}}" selected>{{machine.status}}</option>
            <option value="Folyamatban">Folyamatban</option>
            <option value="Kész">Kész</option>
            <option value="Lezárt" >Lezárt</option>
            <option value="Beérkezett" >Beérkezett</option>
           </select>
        </td>
      </tr>
      </tbody>
    </table>
    <div class="pagination">
      <button (click)="onPreviousPage()">Előző oldal</button>
      <span> {{ currentPage }}  /  {{ totalPages }} </span>
      <button (click)="onNextPage()">Következő oldal</button>
    </div>
  </div>


